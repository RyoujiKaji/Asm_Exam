Обработка строковых данных в ассемблере x86 реализована через специальные команды, которые позволяют эффективно работать с непрерывными областями памяти (массивами)
### **Определение строк**

- Символьные строки определяются только с помощью директивы `DB`
- Содержимое заключается в одиночные (`' '`) или двойные (`" "`) кавычки
- Строка обязательно должна заканчиваться нулевым символом `'\0'`
- Для оформления текста могут использоваться коды `13` (возврат каретки) и `10` (перевод строки)
    
### **Регистры и направление обработки**

Строковые команды используют фиксированные регистры, что позволяет не указывать операнды в самой команде:
- **ESI (Source Index):** Адрес источника для чтения
- **EDI (Destination Index):** Адрес приемника для записи
- **AL/AX/EAX:** Аккумулятор для временного хранения данных при чтении/записи
- **ECX:** Счетчик повторений
    
**Направление движения** по строке определяется флагом направления **DF** (Direction Flag)
- **CLD (сброс DF):** Адреса увеличиваются (обработка слева направо)
- **STD (установка DF):** Адреса уменьшаются (обработка справа налево)

### **Основные строковые команды**

Команды делятся по размеру операнда: **B** (byte — 1 байт), **W** (word — 2 байта), **D** (double word — 4 байта) 

| **Команда**   | **Описание**    | **Действие**                                                           |
| ------------- | --------------- | ---------------------------------------------------------------------- |
| **MOVSB/W/D** | Move String     | Копирует данные из памяти по адресу ESI в память по адресу EDI         |
| **CMPSB/W/D** | Compare Strings | Сравнивает значения по адресам ESI и EDI                               |
| **SCASB/W/D** | Scan String     | Сравнивает значение в аккумуляторе (AL/AX/EAX) с данными по адресу EDI |
| **STOSB/W/D** | Store String    | Записывает значение из аккумулятора в память по адресу EDI             |
| **LODSB/W/D** | Load String     | Загружает значение из памяти по адресу ESI в аккумулятор               |

### **Префиксы повторения**

Префиксы позволяют автоматически повторять команду, пока значение в `ECX > 0`:

- **REP:** Простое повторение (обычно с `MOVS` или `STOS`)
- **REPE / REPZ:** Повторять, пока элементы равны (`ZF=1`)
- **REPNE / REPNZ:** Повторять, пока элементы не равны (`ZF=0`). Используется для поиска символа командой `SCAS`
    
#### *Пример: Поиск символа в строке*

Для поиска символа 'G' в строке `soustr` используется команда `SCASB` с префиксом `REPNE`
Фрагмент кода
```
mov edi, offset soustr ; Адрес строки в EDI [cite: 428]
mov al, "G"            ; Искомый символ в AL [cite: 429]
mov ecx, lengthof soustr ; Длина строки в ECX [cite: 430]
cld                    ; Поиск вперед [cite: 431]
repne scasb            ; Сканировать, пока не найдено или ECX=0 [cite: 432]
jnz exitpr             ; Выход, если символ не найден (ZF=0) [cite: 433]
dec edi                ; EDI указывает на символ после найденного, уменьшаем [cite: 434]
```

### **Особенности работы с данными**

Стоит различать символьные и числовые константы:

- `DB '12'` генерирует коды ASCII **31h** и **32h**
- DB 12 генерирует двоичное число 0Ch
    
    Поскольку цифры '0'…'9' имеют коды 30h…39h, это позволяет легко переводить вводимые символы в их числовые значения
    