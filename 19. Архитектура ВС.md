При появлении ***многопроцессорности*** и многоядерности возникают следующие понятия, основанные на тех же принципах, что и в [[1. Понятие архитектуры ЭВМ#^f0e7c7|архитектуре ЭВМ]]

# **Архитектура ВС** 
— совокупность характеристик и параметров, определяющих функционально-логическую и структурную организацию системы.

## **Мультипроцессоры и мультикомпьютеры**
#### *1.1 Доступ к памяти (Hardware Level)*

Здесь мы описываем, как электрические сигналы от процессора доходят до ячеек RAM и какие задержки при этом возникают. ***То, как процессоры "видят" ОП*** (Memory Access)

| ***Тип доступа***        | ***Описание структуры и связей***                                                                                                                                                                  | ***Латентность*** - задержка между временем запроса к памяти и ответом                    | ***Плюсы***                                                                  | ***Минусы***                                                                                             | ***Использование***                                 |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------- | --------------------------------------------------- |
| ***UMA*** (Uniform)      | ***Все процессоры связаны с единым блоком памяти через общую шину*** или кроссбар-коммутатор.                                                                                                      | Постоянная                                                                                | Простота, постоянная латентность                                             | Конфликты                                                                                                | Ноутбуки, ПК                                        |
| ***NUMA*** (Non-Uniform) | ***Память физически распределена по узлам.*** Процессор связан ***со «своей» памятью напрямую***, а ***с «чужой» — через системный интерконнект***.<br>Все блоки образуют единое адресный диапазон | Переменная                                                                                | Высокая скорость работы со "своей" памятью => высокая пропускная способность | Плохо написанная программа может слишком часто обращаться к "чужой" памяти<br><br>Переменная латентность | Мощные серверы, базы данных, системы виртуализации. |
| ***NORMA*** (No Remote)  | У ***каждого процессора есть своя*** локальная ***память***, и он физически не может обратиться к чужой памяти  напрямую.                                                                          | ***Изолированная***: Прямого доступа к чужой памяти нет, только через передачу сообщений. |                                                                              |                                                                                                          | Суперкомпьютеры и кластеры                          |
#### *1.2. Межпроцессорное взаимодействие (Logical/OS Level)*

Здесь мы описываем, ***как распределяются задачи*** и как процессоры «договариваются» между собой.

| ***Тип взаимодействия***                                                       | ***Механизм связи***                                                                                                                                    | ***Управление***                                                   | ***Типичный доступ к памяти*** | ***Плюсы***                                 | ***Использование***                                |
| ------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ | ------------------------------ | ------------------------------------------- | -------------------------------------------------- |
| ***SMP*** (Symmetric Multiprocessing)                                          | ***Разделяемая память:*** <u>Равноправные</u> процессоры общаются через общие переменные в RAM, используя примитивы синхронизации (мьютексы, семафоры). | ОС управляет всеми ядрами как единым пулом ресурсов.               | UMA/NUMA                       | Универсальность                             | ПК/Серверы - почти вся потребительская электроника |
| ***AMP*** (Asymmetric Multiprocessing)                                         | ***Master-Slave:*** Связь жестко регламентирована. Ведущий процессор выдает задания ведомым через выделенные области памяти или регистры.               | У каждого процессора может быть своя задача или даже своя мини-ОС. | UMA/NORMA                      | Энергоэффективность                         | Смартфоны                                          |
| ***MPP*** (Massively Parallel Processing, процессоры с массовым параллелизмом) | ***Передача сообщений:***Взаимодействие идет через явную пересылку пакетов данных (Message Passing Interface — MPI) по сети.                            | Каждый узел работает под управлением собственной копии ОС.         | NORMA                          | Масштабируемость, но сложно программировать | Суперкомпьютеры, обсчет нейронных сетей            |

## **2. Классификация Флинна (по потокам)**

Майкл Флинн предложил разделить все компьютерные системы по тому, как в них организованы ***потоки команд - последовательности инструкций процессора*** и ***потоки данных - последовательность данных, которыми оперируют команды***.

| ***Тип архитектуры***                            | ***Командный поток*** | ***Поток данных*** | ***Принцип работы***                                                                                                                                                               | ***Сфера применения и примеры***                                                                                                                                                    |
| ------------------------------------------------ | --------------------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ***SISD*** (Single Instruction, Single Data)     | Один                  | Один               | ***Последовательная обработка***: классическая модель, где одна инструкция обрабатывает один элемент данных за такт. Задачи выполняются строго по очереди.                         | Одноядерные процессоры прошлых лет, простые контроллеры в бытовой технике.                                                                                                          |
| ***SIMD*** (Single Instruction, Multiple Data)   | Один                  | Много              | ***Векторная обработка***: одна и та же команда (например, «умножить») применяется одновременно к целому массиву данных (вектору). Это радикально ускоряет вычисления одного типа. | Видеокарты (GPU), обработка видео и фото, нейросети, [[3. Функциональная и структурная организация процессора#**VPU (Vector Processing Unit)**\|векторные блоки в CPU]] (AVX, SSE). |
| ***MISD*** (Multiple Instruction, Single Data)   | Много                 | Один               | ***Отказоустойчивая обработка***: несколько разных процессоров выполняют разные алгоритмы над одним и тем же потоком данных для проверки корректности результата.                  | Системы с критической надежностью: бортовые компьютеры космических аппаратов, системы управления АЭС.                                                                               |
| ***MIMD*** (Multiple Instruction, Multiple Data) | Много                 | Много              | ***Параллельная обработка***: независимые ядра выполняют свои собственные наборы команд над своими данными. Самая гибкая и сложная форма параллелизма.                             | Современные многоядерные процессоры (Intel Core, AMD Ryzen), суперкомпьютерные кластеры.                                                                                            |
